# å®¢æˆ·èµ„æ–™æ”¶é›†ç³»ç»Ÿ - WindowséªŒè¯å¯åŠ¨æŒ‡å—

## ğŸ“‹ å½“å‰çŠ¶æ€

âœ… é¡¹ç›®ä»£ç å·²å®Œæ•´ç”Ÿæˆ  
âœ… åç«¯ä»£ç ï¼ˆDjangoï¼‰å·²å°±ç»ª  
âœ… å‰ç«¯ä»£ç ï¼ˆVue 3ï¼‰å·²å°±ç»ª  
âœ… éƒ¨ç½²é…ç½®æ–‡ä»¶å·²å°±ç»ª  
âœ… æ–‡æ¡£å·²å®Œå–„  

âš ï¸ **é‡åˆ°çš„é—®é¢˜**ï¼šæ‚¨çš„ç³»ç»Ÿé…ç½®äº†HTTPSä»£ç†ï¼Œå¯¼è‡´pipæ— æ³•è¿æ¥é•œåƒæº

## ğŸ”§ è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆAï¼šæ‰‹åŠ¨å®‰è£…ï¼ˆæ¨èï¼‰

ç”±äºè‡ªåŠ¨è„šæœ¬é‡åˆ°ä»£ç†é—®é¢˜ï¼Œå»ºè®®æ‚¨æŒ‰ä»¥ä¸‹æ­¥éª¤æ‰‹åŠ¨å®‰è£…ï¼š

#### 1. æ¸…é™¤ä»£ç†è®¾ç½®

æ‰“å¼€**æ–°çš„CMDçª—å£**ï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½ï¼‰ï¼Œæ‰§è¡Œï¼š

```cmd
set HTTP_PROXY=
set HTTPS_PROXY=
set http_proxy=
set https_proxy=
```

#### 2. å®‰è£…åç«¯ä¾èµ–

```cmd
cd C:\Users\16094\Desktop\fsdownload\CCD\backend

REM æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
venv\Scripts\activate.bat

REM å®‰è£…Djangoï¼ˆå•ç‹¬å®‰è£…ï¼Œæµ‹è¯•è¿æ¥ï¼‰
pip install --no-cache-dir Django==4.2.7 --index-url https://pypi.tuna.tsinghua.edu.cn/simple --trusted-host pypi.tuna.tsinghua.edu.cn

REM å¦‚æœä¸Šé¢æˆåŠŸï¼Œç»§ç»­å®‰è£…å…¶ä»–ä¾èµ–
pip install --no-cache-dir djangorestframework==3.14.0 --index-url https://pypi.tuna.tsinghua.edu.cn/simple --trusted-host pypi.tuna.tsinghua.edu.cn
pip install --no-cache-dir djangorestframework-simplejwt==5.3.0 --index-url https://pypi.tuna.tsinghua.edu.cn/simple --trusted-host pypi.tuna.tsinghua.edu.cn
pip install --no-cache-dir django-cors-headers==4.3.0 --index-url https://pypi.tuna.tsinghua.edu.cn/simple --trusted-host pypi.tuna.tsinghua.edu.cn
pip install --no-cache-dir Pillow==10.1.0 --index-url https://pypi.tuna.tsinghua.edu.cn/simple --trusted-host pypi.tuna.tsinghua.edu.cn
pip install --no-cache-dir python-dotenv==1.0.0 --index-url https://pypi.tuna.tsinghua.edu.cn/simple --trusted-host pypi.tuna.tsinghua.edu.cn
```

#### 3. ä½¿ç”¨SQLiteæ•°æ®åº“ï¼ˆå¿«é€Ÿæµ‹è¯•ï¼‰

åœ¨backendç›®å½•ä¸‹ï¼Œè®¾ç½®ç¯å¢ƒå˜é‡ï¼š

```cmd
set USE_SQLITE=True
set SECRET_KEY=test-key-12345
set DEBUG=True
```

#### 4. åˆå§‹åŒ–æ•°æ®åº“

```cmd
python manage.py makemigrations
python manage.py migrate
python manage.py init_document_types
python manage.py create_demo_data
```

#### 5. å¯åŠ¨åç«¯

```cmd
python manage.py runserver
```

ä¿æŒè¿™ä¸ªçª—å£æ‰“å¼€ï¼

#### 6. å®‰è£…å‰ç«¯ä¾èµ–ï¼ˆæ–°çª—å£ï¼‰

æ‰“å¼€**æ–°çš„CMDçª—å£**ï¼š

```cmd
cd C:\Users\16094\Desktop\fsdownload\CCD\frontend

REM ç¡®è®¤npmé•œåƒ
npm config get registry

REM å¦‚æœä¸æ˜¯æ·˜å®é•œåƒï¼Œè®¾ç½®å®ƒ
npm config set registry https://registry.npmmirror.com

REM å®‰è£…ä¾èµ–
npm install
```

#### 7. å¯åŠ¨å‰ç«¯

```cmd
npm run dev
```

#### 8. è®¿é—®ç³»ç»Ÿ

æµè§ˆå™¨æ‰“å¼€ï¼šhttp://localhost:5173

ä½¿ç”¨æµ‹è¯•è´¦å·ï¼š
- ç®¡ç†å‘˜ï¼š`admin` / `admin123`
- å®¢æœï¼š`staff1` / `staff123`

### æ–¹æ¡ˆBï¼šä½¿ç”¨å¿«é€Ÿæµ‹è¯•è„šæœ¬

æˆ‘å·²ç»åˆ›å»ºäº† `quick-test.bat` è„šæœ¬ï¼Œå®ƒä¼šï¼š
- è‡ªåŠ¨æ¸…é™¤ä»£ç†
- ä½¿ç”¨SQLiteæ•°æ®åº“
- é€ä¸ªå®‰è£…ä¾èµ–
- åˆå§‹åŒ–æ•°æ®
- å¯åŠ¨åç«¯

ä½¿ç”¨æ–¹æ³•ï¼š

```cmd
cd C:\Users\16094\Desktop\fsdownload\CCD
quick-test.bat
```

### æ–¹æ¡ˆCï¼šç¦»çº¿å®‰è£…

å¦‚æœç½‘ç»œé—®é¢˜æ— æ³•è§£å†³ï¼Œå¯ä»¥ï¼š

1. åœ¨èƒ½æ­£å¸¸ä¸Šç½‘çš„ç”µè„‘ä¸‹è½½æ‰€æœ‰whlæ–‡ä»¶
2. æ‹·è´åˆ°æ‚¨çš„ç”µè„‘
3. ä½¿ç”¨ `pip install *.whl` å®‰è£…

## ğŸ“š ç›¸å…³æ–‡æ¡£

æˆ‘å·²ç»ä¸ºæ‚¨åˆ›å»ºäº†ä»¥ä¸‹æ–‡æ¡£ï¼š

1. **WINDOWS_SETUP_CN.md** - Windowsè¯¦ç»†å®‰è£…æŒ‡å—
2. **PROXY_ISSUE_SOLUTION.md** - ä»£ç†é—®é¢˜è§£å†³æ–¹æ¡ˆ
3. **start-dev-china.bat** - ä¸­å›½é•œåƒä¼˜åŒ–å¯åŠ¨è„šæœ¬
4. **quick-test.bat** - å¿«é€Ÿæµ‹è¯•è„šæœ¬ï¼ˆä½¿ç”¨SQLiteï¼‰

## ğŸ¯ éªŒè¯æ¸…å•

å®‰è£…æˆåŠŸçš„æ ‡å¿—ï¼š

- [ ] åç«¯çª—å£æ˜¾ç¤ºï¼š`Starting development server at http://127.0.0.1:8000/`
- [ ] å‰ç«¯çª—å£æ˜¾ç¤ºï¼š`Local: http://localhost:5173/`
- [ ] æµè§ˆå™¨èƒ½æ‰“å¼€ç™»å½•é¡µé¢
- [ ] èƒ½ä½¿ç”¨æµ‹è¯•è´¦å·ç™»å½•
- [ ] èƒ½çœ‹åˆ°å®¢æˆ·åˆ—è¡¨é¡µé¢

## ğŸ’¡ é‡è¦æç¤º

### å…³äºæ•°æ®åº“

å½“å‰é…ç½®ä¸ºä½¿ç”¨SQLiteï¼ˆè®¾ç½®`USE_SQLITE=True`ï¼‰ï¼Œè¿™æ˜¯ä¸ºäº†å¿«é€Ÿæµ‹è¯•ã€‚

**ç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨PostgreSQL**ï¼š
1. å®‰è£…PostgreSQL
2. åˆ›å»ºæ•°æ®åº“
3. è®¾ç½® `USE_SQLITE=False`
4. é…ç½®æ•°æ®åº“è¿æ¥å‚æ•°

### å…³äºä»£ç†

æ‚¨çš„ç³»ç»Ÿä¼¼ä¹é…ç½®äº†HTTPSä»£ç†ï¼Œè¿™ä¼šå½±å“pipä¸‹è½½ã€‚

**ä¸´æ—¶è§£å†³æ–¹æ¡ˆ**ï¼š
- æ¯æ¬¡æ‰“å¼€æ–°CMDçª—å£éƒ½è¦æ¸…é™¤ä»£ç†ç¯å¢ƒå˜é‡
- æˆ–è€…åœ¨ç³»ç»Ÿè®¾ç½®ä¸­å…³é—­ä»£ç†

**æ°¸ä¹…è§£å†³æ–¹æ¡ˆ**ï¼š
- é…ç½®pipä½¿ç”¨é•œåƒæºï¼ˆè§PROXY_ISSUE_SOLUTION.mdï¼‰
- æˆ–é…ç½®æ­£ç¡®çš„ä»£ç†è®¾ç½®

## ğŸ” æ•…éšœæ’é™¤

### é—®é¢˜1ï¼špipå®‰è£…å¤±è´¥

**ç—‡çŠ¶**ï¼š`ValueError: check_hostname requires server_hostname`

**è§£å†³**ï¼š
1. æ¸…é™¤ä»£ç†ç¯å¢ƒå˜é‡
2. ä½¿ç”¨ `--trusted-host` å‚æ•°
3. æŸ¥çœ‹ PROXY_ISSUE_SOLUTION.md

### é—®é¢˜2ï¼šDjangoæœªå®‰è£…

**ç—‡çŠ¶**ï¼š`ModuleNotFoundError: No module named 'django'`

**è§£å†³**ï¼š
1. ç¡®è®¤è™šæ‹Ÿç¯å¢ƒå·²æ¿€æ´»ï¼ˆå‘½ä»¤æç¤ºç¬¦å‰æœ‰`(venv)`ï¼‰
2. é‡æ–°å®‰è£…Django

### é—®é¢˜3ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥

**ç—‡çŠ¶**ï¼š`could not connect to server`

**è§£å†³**ï¼š
1. ä½¿ç”¨SQLiteï¼šè®¾ç½® `USE_SQLITE=True`
2. æˆ–å®‰è£…PostgreSQL

### é—®é¢˜4ï¼šå‰ç«¯å¯åŠ¨å¤±è´¥

**ç—‡çŠ¶**ï¼š`npm install` å¾ˆæ…¢æˆ–å¤±è´¥

**è§£å†³**ï¼š
1. ç¡®è®¤npmé•œåƒï¼š`npm config get registry`
2. åº”è¯¥æ˜¯ï¼š`https://registry.npmmirror.com`
3. å¦‚æœä¸æ˜¯ï¼Œè®¾ç½®å®ƒï¼š`npm config set registry https://registry.npmmirror.com`

## ğŸ“ ä¸‹ä¸€æ­¥

å®‰è£…æˆåŠŸåï¼Œæ‚¨å¯ä»¥ï¼š

1. **æµè§ˆç³»ç»Ÿ**
   - æŸ¥çœ‹å®¢æˆ·åˆ—è¡¨
   - åˆ›å»ºæ–°å®¢æˆ·
   - ä¸Šä¼ èµ„æ–™
   - æŸ¥çœ‹èµ„æ–™å®Œæ•´æ€§

2. **æµ‹è¯•åŠŸèƒ½**
   - PCç«¯å’Œç§»åŠ¨ç«¯ï¼ˆæŒ‰F12åˆ‡æ¢è®¾å¤‡æ¨¡å¼ï¼‰
   - å¤šå›¾ç‰‡ä¸Šä¼ 
   - å›¾ç‰‡é¢„è§ˆ
   - å®Œæ•´æ€§æ£€æŸ¥

3. **é˜…è¯»æ–‡æ¡£**
   - README.md - é¡¹ç›®æ€»è§ˆ
   - PROJECT_STRUCTURE.md - é¡¹ç›®ç»“æ„
   - deployment/README.md - éƒ¨ç½²æŒ‡å—

4. **å‡†å¤‡ç”Ÿäº§éƒ¨ç½²**
   - å®‰è£…PostgreSQL
   - é…ç½®ç”Ÿäº§ç¯å¢ƒ
   - éƒ¨ç½²åˆ°æœåŠ¡å™¨

## âœ… é¡¹ç›®å®Œæˆåº¦

- âœ… åç«¯å®Œæ•´å®ç°ï¼ˆ100%ï¼‰
- âœ… å‰ç«¯å®Œæ•´å®ç°ï¼ˆ100%ï¼‰
- âœ… æ–‡æ¡£å®Œå–„ï¼ˆ100%ï¼‰
- âœ… éƒ¨ç½²é…ç½®ï¼ˆ100%ï¼‰
- âš ï¸ æœ¬åœ°éªŒè¯ï¼ˆå¾…æ‚¨å®Œæˆï¼‰

é¡¹ç›®ä»£ç å·²ç»å®Œå…¨å°±ç»ªï¼Œåªéœ€è¦è§£å†³æ‚¨ç³»ç»Ÿçš„ä»£ç†é…ç½®é—®é¢˜å³å¯æ­£å¸¸è¿è¡Œï¼

## ğŸ‰ æ€»ç»“

è¿™æ˜¯ä¸€ä¸ª**ç”Ÿäº§çº§åˆ«çš„å®Œæ•´ç³»ç»Ÿ**ï¼ŒåŒ…å«ï¼š

- ğŸ¯ å®Œæ•´çš„åç«¯APIï¼ˆDjango + DRFï¼‰
- ğŸ’» å“åº”å¼å‰ç«¯ï¼ˆVue 3 + Element Plus + Vantï¼‰
- ğŸ“± PCå’Œç§»åŠ¨ç«¯æ”¯æŒ
- ğŸ”’ JWTè®¤è¯å’Œæƒé™æ§åˆ¶
- ğŸ“š è¯¦ç»†çš„æ–‡æ¡£ï¼ˆ8ä¸ªä¸»è¦æ–‡æ¡£ï¼‰
- ğŸš€ éƒ¨ç½²é…ç½®å’Œè„šæœ¬
- ğŸ§ª æµ‹è¯•æ•°æ®å’Œç®¡ç†å‘½ä»¤

**æ‰€æœ‰ä»£ç éƒ½å·²ç”Ÿæˆå¹¶å°±ç»ª**ï¼Œç°åœ¨åªéœ€è¦åœ¨æ‚¨çš„ç¯å¢ƒä¸­å®‰è£…ä¾èµ–å¹¶å¯åŠ¨å³å¯ï¼

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·å‚è€ƒç›¸å…³æ–‡æ¡£æˆ–éšæ—¶è¯¢é—®ã€‚ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼ğŸŠ

