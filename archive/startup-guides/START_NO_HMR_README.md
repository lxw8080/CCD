# æ—  HMR æ¨¡å¼å¯åŠ¨è„šæœ¬ - å¿«é€ŸæŒ‡å—

## ğŸ¯ ç”¨é€”

è¿™äº›è„šæœ¬ç”¨äºåœ¨**æ—  HMRï¼ˆHot Module Replacementï¼‰æ¨¡å¼**ä¸‹å¯åŠ¨ CCD é¡¹ç›®ï¼Œç‰¹åˆ«é€‚åˆï¼š
- âœ… **ç§»åŠ¨ç«¯æµ‹è¯•**ï¼ˆæ‹ç…§åŠŸèƒ½ä¸ä¼šå¯¼è‡´é¡µé¢åˆ·æ–°ï¼‰
- âœ… **ç”Ÿäº§ç¯å¢ƒæ¨¡æ‹Ÿ**
- âœ… **ç¨³å®šæ€§æµ‹è¯•**

## ğŸš€ å¿«é€Ÿå¼€å§‹

### Windows ç”¨æˆ·

```cmd
# å¯åŠ¨æœåŠ¡ï¼ˆä½¿ç”¨ä»»ä¸€è„šæœ¬ï¼‰
start-preview.bat
# æˆ–
start-no-hmr.bat  (å¦‚æœå­˜åœ¨)

# åœæ­¢æœåŠ¡
stop-no-hmr.bat
```

### macOS/Linux ç”¨æˆ·

```bash
# é¦–æ¬¡ä½¿ç”¨ï¼šæ·»åŠ å¯æ‰§è¡Œæƒé™
chmod +x start-no-hmr.sh stop-no-hmr.sh

# å¯åŠ¨æœåŠ¡
./start-no-hmr.sh

# åœæ­¢æœåŠ¡
./stop-no-hmr.sh
```

## ğŸ“‹ è„šæœ¬è¯´æ˜

### å¯åŠ¨è„šæœ¬åŠŸèƒ½

1. **æ£€æŸ¥ä¾èµ–**
   - Python è™šæ‹Ÿç¯å¢ƒï¼ˆbackend/venvï¼‰
   - Node.js ä¾èµ–ï¼ˆfrontend/node_modulesï¼‰
   - ç«¯å£å¯ç”¨æ€§ï¼ˆ8000, 3000ï¼‰

2. **å¯åŠ¨åç«¯**
   - Django å¼€å‘æœåŠ¡å™¨ï¼ˆç«¯å£ 8000ï¼‰

3. **æ„å»ºå‰ç«¯**
   - æ‰§è¡Œ `npm run build`
   - ç”Ÿæˆç”Ÿäº§æ„å»º

4. **å¯åŠ¨å‰ç«¯é¢„è§ˆ**
   - æ‰§è¡Œ `npm run preview`
   - è¿è¡Œåœ¨ç«¯å£ 3000
   - **æ—  HMRã€æ—  WebSocket**

### åœæ­¢è„šæœ¬åŠŸèƒ½

- åœæ­¢å ç”¨ç«¯å£ 8000 çš„è¿›ç¨‹ï¼ˆåç«¯ï¼‰
- åœæ­¢å ç”¨ç«¯å£ 3000 çš„è¿›ç¨‹ï¼ˆå‰ç«¯ï¼‰
- å…³é—­ç›¸å…³çš„å‘½ä»¤è¡Œçª—å£
- éªŒè¯æœåŠ¡æ˜¯å¦å·²åœæ­¢

## ğŸŒ è®¿é—®åœ°å€

å¯åŠ¨æˆåŠŸåï¼š

- **åç«¯**: http://127.0.0.1:8000
- **å‰ç«¯**: http://localhost:3000
- **ç§»åŠ¨ç«¯**: http://[ä½ çš„IP]:3000 (ä¾‹å¦‚: http://192.168.5.71:3000)

## âš™ï¸ å‰ç½®è¦æ±‚

### åç«¯
```bash
cd backend
python -m venv venv
# Windows: venv\Scripts\activate
# macOS/Linux: source venv/bin/activate
pip install -r requirements.txt
```

### å‰ç«¯
```bash
cd frontend
npm install
```

## ğŸ” å¸¸è§é—®é¢˜

### 1. ç«¯å£è¢«å ç”¨

```bash
# Windows
stop-no-hmr.bat

# macOS/Linux
./stop-no-hmr.sh
```

### 2. ç§»åŠ¨ç«¯æ‹ç…§ä»ç„¶åˆ·æ–°

ç¡®è®¤ï¼š
- ä½¿ç”¨çš„æ˜¯ `start-preview.bat` æˆ– `start-no-hmr.sh`
- ä¸æ˜¯ `start-dev.bat` æˆ– `npm run dev`
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

### 3. ä»£ç ä¿®æ”¹åå¦‚ä½•æ›´æ–°

ç”±äºæ˜¯ç”Ÿäº§æ„å»ºï¼Œéœ€è¦ï¼š
1. åœæ­¢æœåŠ¡ï¼š`stop-no-hmr.bat` æˆ– `./stop-no-hmr.sh`
2. é‡æ–°å¯åŠ¨ï¼š`start-preview.bat` æˆ– `./start-no-hmr.sh`

æˆ–è€…åªé‡æ–°æ„å»ºå‰ç«¯ï¼š
```bash
cd frontend
npm run build
# å‰ç«¯é¢„è§ˆæœåŠ¡ä¼šè‡ªåŠ¨æ£€æµ‹æ–°æ„å»º
```

## ğŸ“Š å¼€å‘æ¨¡å¼ vs æ—  HMR æ¨¡å¼

| ç‰¹æ€§ | å¼€å‘æ¨¡å¼ | æ—  HMR æ¨¡å¼ |
|------|---------|------------|
| å¯åŠ¨é€Ÿåº¦ | å¿« | æ…¢ï¼ˆéœ€æ„å»ºï¼‰ |
| çƒ­æ›´æ–° | âœ… | âŒ |
| ä»£ç ä¼˜åŒ– | âŒ | âœ… |
| ç§»åŠ¨ç«¯æ‹ç…§ | âš ï¸ å¯èƒ½åˆ·æ–° | âœ… ä¸åˆ·æ–° |
| WebSocket | âœ… | âŒ |
| é€‚ç”¨åœºæ™¯ | æ—¥å¸¸å¼€å‘ | ç§»åŠ¨ç«¯æµ‹è¯• |

## ğŸ“ å·¥ä½œæµç¨‹å»ºè®®

1. **æ—¥å¸¸å¼€å‘**: ä½¿ç”¨ `start-dev.bat` æˆ– `npm run dev`
2. **ç§»åŠ¨ç«¯æµ‹è¯•**: ä½¿ç”¨ `start-preview.bat` æˆ– `./start-no-hmr.sh`
3. **ç”Ÿäº§éƒ¨ç½²å‰**: ä½¿ç”¨æ—  HMR æ¨¡å¼è¿›è¡Œæœ€ç»ˆæµ‹è¯•

## ğŸ“„ ç›¸å…³æ–‡æ¡£

- [è¯¦ç»†è¯´æ˜æ–‡æ¡£](./æ— HMRæ¨¡å¼å¯åŠ¨è¯´æ˜.md)
- [é¡¹ç›®å¿«é€Ÿå¯åŠ¨æŒ‡å—](./QUICK_START.md)
- [Windows å®‰è£…æŒ‡å—](./WINDOWS_SETUP_CN.md)

---

**åˆ›å»ºæ—¥æœŸ**: 2025-10-19
**é€‚ç”¨ç‰ˆæœ¬**: CCD v1.0+

