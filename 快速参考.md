# 🚀 快速参考指南

**最后更新**: 2025-10-18  
**系统状态**: ✅ **运行正常**

---

## 🌐 访问地址

| 服务 | 地址 | 说明 |
|------|------|------|
| **前端应用** | http://127.0.0.1:3000 | 客户资料收集系统 |
| **管理后台** | http://127.0.0.1:8000/admin | Django 管理界面 |
| **后端 API** | http://127.0.0.1:8000/api | REST API |

---

## 🔐 登录凭证

```
用户名: admin
密码: admin123
```

---

## 📁 项目结构

```
CCD/
├── frontend/              # Vue 3 + Vite 前端应用
│   ├── src/
│   │   ├── views/        # 页面组件
│   │   ├── api/          # API 调用
│   │   ├── store/        # Pinia 状态管理
│   │   └── utils/        # 工具函数
│   └── vite.config.js    # Vite 配置
│
└── backend/              # Django 后端应用
    ├── apps/
    │   ├── customers/    # 客户管理
    │   ├── documents/    # 资料管理
    │   └── users/        # 用户管理
    ├── manage.py
    └── settings.py
```

---

## 🔧 启动命令

### 启动前端应用
```bash
cd frontend
npm run dev
```

### 启动后端服务
```bash
cd backend
python manage.py runserver
```

### 启动所有服务
```bash
# 使用 start-dev.bat (Windows)
start-dev.bat
```

---

## 📊 数据库信息

| 项目 | 值 |
|------|-----|
| **类型** | PostgreSQL |
| **主机** | 115.190.29.10 |
| **端口** | 5433 |
| **数据库** | ccd_dev |
| **用户** | flask_user |
| **密码** | flask_password |

---

## 🔄 最近修复

### 修复的问题

1. **前端客户数据获取失败** ✅
   - 原因: `column customers.remarks does not exist`
   - 解决: 移除 Customer 模型中的 remarks 字段

2. **管理后台资料类型添加失败** ✅
   - 原因: `null value in column "updated_at" violates not-null constraint`
   - 解决: 向 DocumentType 模型添加 updated_at 字段

3. **管理后台资料文档列表失败** ✅
   - 原因: `column documents.remarks does not exist`
   - 解决: 移除 Document 模型中的 remarks 字段

### 修改的文件

- `backend/apps/customers/models.py`
- `backend/apps/customers/serializers.py`
- `backend/apps/customers/admin.py`
- `backend/apps/documents/models.py`
- `backend/apps/documents/serializers.py`
- `backend/apps/documents/views.py`
- `backend/apps/documents/admin.py`

---

## ✅ 功能检查清单

### 前端应用
- [x] 登录功能
- [x] 客户列表
- [x] 客户详情
- [x] 资料完整性
- [x] 已上传资料
- [x] 资料上传

### 管理后台
- [x] 用户管理
- [x] 客户管理
- [x] 资料类型管理
- [x] 资料文档管理

### API 端点
- [x] `GET /api/customers/`
- [x] `GET /api/documents/types/`
- [x] `GET /api/documents/`
- [x] `POST /api/documents/upload/`

---

## 🐛 常见问题

### Q: 前端无法连接到后端？
**A**: 检查后端服务是否运行在 http://127.0.0.1:8000

### Q: 管理后台无法加载？
**A**: 确保已登录，并检查数据库连接

### Q: 客户列表显示为空？
**A**: 检查数据库中是否有客户数据，或刷新页面

### Q: 无法上传资料？
**A**: 检查文件大小是否超过 10MB，以及文件格式是否为图片

---

## 📚 相关文档

- `问题诊断报告.md` - 详细的问题分析
- `修复验证报告.md` - MCP 自动化测试结果
- `修复总结.md` - 完整的修复总结
- `任务完成报告.md` - 任务完成情况

---

## 🎯 下一步

1. **功能测试** - 进行完整的功能测试
2. **性能优化** - 优化数据库查询和前端性能
3. **安全加固** - 添加更多的安全验证
4. **文档完善** - 完善项目文档

---

## 📞 支持

如有问题，请参考相关文档或联系开发团队。

---

**系统状态**: ✅ **运行正常**  
**最后检查**: 2025-10-18 22:55  
**下次检查**: 建议定期检查

