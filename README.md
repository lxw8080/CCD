# å®¢æˆ·èµ„æ–™æ”¶é›†ç³»ç»Ÿ (CCD)

> Customer Collection Documents - ä¸“ä¸ºä¿¡è´·å…¬å¸æ‰“é€ çš„æ™ºèƒ½èµ„æ–™æ”¶é›†ç®¡ç†å¹³å°

ä¸€ä¸ªç”Ÿäº§çº§çš„å¤šç«¯ååŒå®¢æˆ·èµ„æ–™æ”¶é›†ç®¡ç†ç³»ç»Ÿï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæ”¯æŒPCå’Œç§»åŠ¨ç«¯æ— ç¼åä½œï¼Œå®ç°é«˜æ•ˆçš„èµ„æ–™æ”¶é›†ã€ç®¡ç†å’Œå®¡æ ¸æµç¨‹ã€‚

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

æœ¬ç³»ç»Ÿæ˜¯ä¸ºä¿¡è´·å…¬å¸é‡èº«å®šåˆ¶çš„æ•°å­—åŒ–è§£å†³æ–¹æ¡ˆï¼Œå½»åº•è§£å†³ä¼ ç»Ÿèµ„æ–™æ”¶é›†çš„ç—›ç‚¹ï¼š

- âœ… **å¤šç«¯ååŒ**ï¼šæ‰‹æœºæ‹ç…§ã€ç”µè„‘æˆªå›¾ã€æ‰«æä»ªæ‰«æï¼Œå¤šç§ä¸Šä¼ æ–¹å¼ï¼Œå®æ—¶åŒæ­¥
- âœ… **æ™ºèƒ½ç®¡ç†**ï¼šè‡ªåŠ¨åˆ†ç±»ã€æ™ºèƒ½æ£€æŸ¥ã€å¯è§†åŒ–è¿›åº¦ï¼Œèµ„æ–™ç®¡ç†é›¶é—æ¼
- âœ… **çµæ´»æ‰©å±•**ï¼šåŠ¨æ€è‡ªå®šä¹‰å­—æ®µï¼Œæ— éœ€æ”¹ä»£ç å³å¯é€‚é…ä¸åŒä¸šåŠ¡éœ€æ±‚
- âœ… **å®‰å…¨å¯é **ï¼šå¤–éƒ¨PostgreSQLæ•°æ®åº“ï¼ŒJWTè®¤è¯ï¼Œæ•°æ®å®‰å…¨æœ‰ä¿éšœ
- âœ… **é™æœ¬å¢æ•ˆ**ï¼šæ— éœ€äººå·¥å½’é›†æ•´ç†ï¼Œç³»ç»Ÿè‡ªåŠ¨åŒ–å¤„ç†ï¼Œæ•ˆç‡æå‡80%

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ
- **Webæ¡†æ¶**: Django 4.2 + Django REST Framework 3.14
- **æ•°æ®åº“**: PostgreSQLï¼ˆå¤–éƒ¨æ•°æ®åº“ï¼‰
- **è®¤è¯ç³»ç»Ÿ**: JWT Token (SimpleJWT)
- **æ–‡ä»¶å¤„ç†**: Pillowï¼ˆå›¾ç‰‡ï¼‰+ å¤šæ ¼å¼æ”¯æŒï¼ˆPDFã€è§†é¢‘ç­‰ï¼‰
- **APIè®¾è®¡**: RESTful API
- **CORSæ”¯æŒ**: django-cors-headers
- **ç¯å¢ƒç®¡ç†**: python-dotenv

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ ¸å¿ƒæ¡†æ¶**: Vue 3 (Composition API)
- **æ„å»ºå·¥å…·**: Vite 5.x
- **PCç«¯UI**: Element Plus
- **ç§»åŠ¨ç«¯UI**: Vant 4.x
- **çŠ¶æ€ç®¡ç†**: Pinia
- **è·¯ç”±ç®¡ç†**: Vue Router 4
- **HTTPå®¢æˆ·ç«¯**: Axios
- **å›¾ç‰‡å‹ç¼©**: Compressor.js
- **PDFé¢„è§ˆ**: pdfjs-dist

### éƒ¨ç½²æ¶æ„
- **WebæœåŠ¡å™¨**: Nginxï¼ˆåå‘ä»£ç† + é™æ€æ–‡ä»¶æœåŠ¡ï¼‰
- **åº”ç”¨æœåŠ¡å™¨**: Gunicornï¼ˆå¤šè¿›ç¨‹ï¼‰
- **è¿›ç¨‹ç®¡ç†**: Systemd
- **å¹³å°æ”¯æŒ**: Linux/Windows/macOS
- **ç”Ÿäº§ç¯å¢ƒ**: äº‘æœåŠ¡å™¨ï¼ˆé˜¿é‡Œäº‘/è…¾è®¯äº‘ï¼‰

## âš¡ æ ¸å¿ƒåŠŸèƒ½

### 1. ç”¨æˆ·è®¤è¯ä¸æƒé™
- ğŸ” JWT Token è®¤è¯æœºåˆ¶ï¼ˆæ”¯æŒåˆ·æ–°ä»¤ç‰Œï¼‰
- ğŸ‘¥ å¤šè§’è‰²æƒé™ç®¡ç†ï¼ˆç®¡ç†å‘˜ã€å®¢æœã€å®¡æ ¸å‘˜ï¼‰
- ğŸšª å®‰å…¨çš„ç™»å½•/ç™»å‡ºåŠŸèƒ½
- ğŸ›¡ï¸ è·¯ç”±å®ˆå«ä¿æŠ¤

### 2. å®¢æˆ·ç®¡ç†
- ğŸ“ å®¢æˆ·æ¡£æ¡ˆåˆ›å»ºä¸ç»´æŠ¤
- ğŸ” å¼ºå¤§çš„æœç´¢å’Œç­›é€‰åŠŸèƒ½
- ğŸ“Š å®¢æˆ·çŠ¶æ€æµè½¬ç®¡ç†ï¼ˆ5ç§çŠ¶æ€ï¼‰
- ğŸ¯ èµ„æ–™å®Œæ•´æ€§å®æ—¶æ£€æŸ¥
- ğŸ”„ å¤šç«¯æ•°æ®å®æ—¶åŒæ­¥
- âš™ï¸ **åŠ¨æ€è‡ªå®šä¹‰å­—æ®µ**ï¼ˆæ ¸å¿ƒç‰¹æ€§ï¼‰
  - æ— éœ€æ”¹ä»£ç å³å¯æ·»åŠ å­—æ®µ
  - æ”¯æŒ8ç§å­—æ®µç±»å‹ï¼ˆæ–‡æœ¬ã€æ•°å­—ã€æ—¥æœŸã€ä¸‹æ‹‰ç­‰ï¼‰
  - çµæ´»çš„éªŒè¯è§„åˆ™
  - è‡ªå®šä¹‰æ’åºå’Œæ˜¾ç¤º

### 3. èµ„æ–™ä¸Šä¼ ä¸ç®¡ç†
- ğŸ“¤ å¤šæ–‡ä»¶æ‰¹é‡ä¸Šä¼ 
- ğŸ–±ï¸ PCç«¯æ‹–æ‹½ä¸Šä¼ 
- ğŸ“¸ ç§»åŠ¨ç«¯æ‹ç…§ä¸Šä¼ 
- ğŸ—œï¸ è‡ªåŠ¨å›¾ç‰‡å‹ç¼©ï¼ˆè´¨é‡0.8ï¼Œæœ€å¤§1920x1920ï¼‰
- ğŸ“ æ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼ï¼š
  - å›¾ç‰‡ï¼šJPGã€PNGã€GIFã€BMPã€WebP
  - è§†é¢‘ï¼šMP4ã€AVIã€MOVã€WMVç­‰
  - æ–‡æ¡£ï¼šPDFã€DOCã€DOCXã€TXT
  - è¡¨æ ¼ï¼šXLSã€XLSXã€CSV
- ğŸ‘ï¸ æ–‡ä»¶é¢„è§ˆåŠŸèƒ½ï¼ˆå›¾ç‰‡ã€PDFã€è§†é¢‘ï¼‰
- ğŸ·ï¸ èµ„æ–™ç±»å‹åˆ†ç±»ç®¡ç†ï¼ˆ9ç§é¢„è®¾ç±»å‹ï¼‰
- âœ… èµ„æ–™å®¡æ ¸çŠ¶æ€ç®¡ç†

### 4. èµ„æ–™å®Œæ•´æ€§æ£€æŸ¥
- ğŸ“‹ é¢„è®¾å¿…è¦èµ„æ–™æ¸…å•
- ğŸ”” ç¼ºå¤±èµ„æ–™æ™ºèƒ½æé†’
- ğŸ“ˆ å®Œæ•´åº¦å¯è§†åŒ–è¿›åº¦æ¡
- âš¡ å®æ—¶è‡ªåŠ¨æ£€æŸ¥æ›´æ–°
- ğŸ“Š èµ„æ–™ç»Ÿè®¡æŠ¥è¡¨

### 5. å“åº”å¼è®¾è®¡
- ğŸ’» PCç«¯ï¼š
  - Element Plusè¡¨æ ¼åˆ—è¡¨
  - ä¸°å¯Œçš„æ“ä½œæŒ‰é’®
  - è¯¦ç»†çš„ä¿¡æ¯å±•ç¤º
- ğŸ“± ç§»åŠ¨ç«¯ï¼š
  - Vantå¡ç‰‡åˆ—è¡¨
  - æ‰‹åŠ¿æ“ä½œä¼˜åŒ–
  - ä¸‹æ‹‰åˆ·æ–°/ä¸Šæ‹‰åŠ è½½
- ğŸ”„ è‡ªåŠ¨æ£€æµ‹è®¾å¤‡ç±»å‹å¹¶åˆ‡æ¢UI

## ğŸ“š æ–‡æ¡£å¯¼èˆª

> ğŸ’¡ **ä¸çŸ¥é“ä»å“ªé‡Œå¼€å§‹ï¼Ÿ** æŸ¥çœ‹ **[é¡¹ç›®å¯¼èˆª](é¡¹ç›®å¯¼èˆª.md)** å¿«é€Ÿæ‰¾åˆ°æ‰€éœ€æ–‡æ¡£ï¼

### å¿«é€Ÿé“¾æ¥
- **[é¡¹ç›®å¯¼èˆª](é¡¹ç›®å¯¼èˆª.md)** - ğŸ“– å®Œæ•´æ–‡æ¡£å¯¼èˆªå’Œåœºæ™¯æŒ‡å¼• â­
- **[å¿«é€Ÿå¼€å§‹æŒ‡å—](QUICK_START.md)** - å¿«é€Ÿæ­å»ºå¼€å‘ç¯å¢ƒ
- **[å®Œæ•´ç”¨æˆ·æ‰‹å†Œ](docs/guides/USER_GUIDE.md)** - ç³»ç»Ÿä½¿ç”¨æŒ‡å—
- **[æ— HMRæ¨¡å¼è¯´æ˜](æ— HMRæ¨¡å¼å¯åŠ¨æˆåŠŸè¯´æ˜.md)** - ç”Ÿäº§æ„å»ºæ¨¡å¼ä½¿ç”¨è¯´æ˜
- **[æ–‡æ¡£ä¸­å¿ƒ](docs/README.md)** - æ‰€æœ‰æ–‡æ¡£çš„å¯¼èˆª
- **[æ›´æ–°æ—¥å¿—](CHANGELOG.md)** - ç‰ˆæœ¬å†å²
- **[é¡¹ç›®ç»“æ„](PROJECT_STRUCTURE.md)** - ä»£ç ç»“æ„è¯´æ˜

### æŒ‰è§’è‰²æŸ¥æ‰¾
- **ç”¨æˆ·**: [ç”¨æˆ·ä½¿ç”¨æŒ‡å—](docs/guides/USER_GUIDE.md)
- **å¼€å‘è€…**: [åç«¯æ–‡æ¡£](backend/README.md) | [å‰ç«¯æ–‡æ¡£](frontend/README.md)
- **è¿ç»´**: [éƒ¨ç½²æ–‡æ¡£](deployment/README.md)

### æŒ‰åœºæ™¯æŸ¥æ‰¾
- **é¦–æ¬¡å¯åŠ¨**: [QUICK_START.md](QUICK_START.md) â†’ è¿è¡Œ `bash start-no-hmr.sh`
- **æ—¥å¸¸å¼€å‘**: è¿è¡Œ `bash start-no-hmr.sh` ï¼ˆç”Ÿäº§æ„å»ºï¼Œæ›´ç¨³å®šï¼‰
- **æµ‹è¯•æ¼”ç¤º**: è¿è¡Œ `bash start-no-hmr.sh` ï¼ˆç”Ÿäº§æ„å»ºï¼Œæ›´ç¨³å®šï¼‰
- **ç”Ÿäº§éƒ¨ç½²**: [deployment/README.md](deployment/README.md)

---

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Python**: 3.8+ ï¼ˆæ¨è 3.10+ï¼‰
- **Node.js**: 16+ ï¼ˆæ¨è 18+ï¼‰
- **PostgreSQL**: 12+ ï¼ˆæ¨è 14+ï¼‰
- **æ“ä½œç³»ç»Ÿ**: Windows/Linux/macOS

### ğŸš€ ä¸€é”®å¯åŠ¨

#### Windows ç”¨æˆ·
```cmd
start-no-hmr.bat
```

#### macOS/Linux ç”¨æˆ·
```bash
bash start-no-hmr.sh
```

å¯åŠ¨è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
1. âœ… æ£€æŸ¥å¹¶å®‰è£…ä¾èµ–
2. âœ… æ„å»ºå‰ç«¯ç”Ÿäº§ç‰ˆæœ¬
3. âœ… å¯åŠ¨åç«¯æœåŠ¡ï¼ˆhttp://127.0.0.1:8000ï¼‰
4. âœ… å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆhttp://localhost:3000ï¼‰

### âš™ï¸ æ‰‹åŠ¨é…ç½®ï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰

#### 1. é…ç½®å¤–éƒ¨æ•°æ®åº“

åˆ›å»º `backend/.env` æ–‡ä»¶ï¼š

```env
# æ•°æ®åº“é…ç½®ï¼ˆå¤–éƒ¨PostgreSQLï¼‰
DB_NAME=ccd_db          # æ•°æ®åº“å
DB_USER=your_username   # æ•°æ®åº“ç”¨æˆ·å
DB_PASSWORD=your_password  # æ•°æ®åº“å¯†ç 
DB_HOST=your_host       # æ•°æ®åº“ä¸»æœºï¼ˆå¦‚ï¼š115.190.29.10ï¼‰
DB_PORT=5432            # æ•°æ®åº“ç«¯å£

# Djangoé…ç½®
SECRET_KEY=your-secret-key-here
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1

# CORSé…ç½®
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
```

> âš ï¸ **é‡è¦**ï¼šç”Ÿäº§ç¯å¢ƒè¯·ä¿®æ”¹ `SECRET_KEY` å’Œ `DEBUG=False`

#### 2. åç«¯è®¾ç½®

```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# è¿è¡Œæ•°æ®åº“è¿ç§»
python manage.py migrate

# åˆå§‹åŒ–èµ„æ–™ç±»å‹æ•°æ®
python manage.py init_document_types

# åˆ›å»ºæµ‹è¯•æ•°æ®ï¼ˆå¯é€‰ï¼‰
python manage.py create_demo_data

# æˆ–åˆ›å»ºè¶…çº§ç®¡ç†å‘˜
python manage.py createsuperuser

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
python manage.py runserver
```

åç«¯æœåŠ¡ï¼šhttp://127.0.0.1:8000  
ç®¡ç†åå°ï¼šhttp://127.0.0.1:8000/admin

#### 3. å‰ç«¯è®¾ç½®

æ‰“å¼€æ–°çš„ç»ˆç«¯çª—å£ï¼š

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…ä¾èµ–
npm install

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# å¯åŠ¨é¢„è§ˆæœåŠ¡
npm run preview
```

å‰ç«¯åº”ç”¨ï¼šhttp://localhost:3000

### ğŸ® è®¿é—®ç³»ç»Ÿ

1. æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š**http://localhost:3000**
2. ä½¿ç”¨æµ‹è¯•è´¦å·ç™»å½•ï¼š
   - ç®¡ç†å‘˜ï¼š`admin` / `admin123`
   - å®¢æœï¼š`service01` / `admin123`
   - å®¡æ ¸å‘˜ï¼š`auditor01` / `admin123`
3. æˆ–ä½¿ç”¨åˆ›å»ºçš„è¶…çº§ç®¡ç†å‘˜è´¦å·

## é¡¹ç›®ç»“æ„

```
CCD/
â”œâ”€â”€ backend/                 # Djangoåç«¯
â”‚   â”œâ”€â”€ apps/
â”‚   â”‚   â”œâ”€â”€ users/          # ç”¨æˆ·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ customers/      # å®¢æˆ·æ¨¡å—
â”‚   â”‚   â””â”€â”€ documents/      # èµ„æ–™æ¨¡å—
â”‚   â”œâ”€â”€ config/             # é¡¹ç›®é…ç½®
â”‚   â”œâ”€â”€ media/              # ä¸Šä¼ æ–‡ä»¶å­˜å‚¨
â”‚   â”œâ”€â”€ requirements.txt    # Pythonä¾èµ–
â”‚   â””â”€â”€ manage.py
â”‚
â”œâ”€â”€ frontend/               # Vueå‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/           # APIæ¥å£
â”‚   â”‚   â”œâ”€â”€ components/    # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ router/        # è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ store/         # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ views/         # é¡µé¢
â”‚   â”‚       â”œâ”€â”€ pc/        # PCç«¯é¡µé¢
â”‚   â”‚       â””â”€â”€ mobile/    # ç§»åŠ¨ç«¯é¡µé¢
â”‚   â”œâ”€â”€ package.json       # Nodeä¾èµ–
â”‚   â””â”€â”€ vite.config.js     # Viteé…ç½®
â”‚
â””â”€â”€ README.md              # é¡¹ç›®è¯´æ˜
```

## APIæ¥å£æ–‡æ¡£

### è®¤è¯æ¥å£
- `POST /api/auth/login/` - ç”¨æˆ·ç™»å½•
- `POST /api/auth/logout/` - ç”¨æˆ·ç™»å‡º
- `GET /api/auth/me/` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯

### å®¢æˆ·æ¥å£
- `GET /api/customers/` - å®¢æˆ·åˆ—è¡¨
- `POST /api/customers/` - åˆ›å»ºå®¢æˆ·
- `GET /api/customers/{id}/` - å®¢æˆ·è¯¦æƒ…
- `PUT /api/customers/{id}/` - æ›´æ–°å®¢æˆ·
- `DELETE /api/customers/{id}/` - åˆ é™¤å®¢æˆ·
- `GET /api/customers/{id}/completeness/` - èµ„æ–™å®Œæ•´æ€§æ£€æŸ¥

### èµ„æ–™æ¥å£
- `GET /api/documents/types/` - èµ„æ–™ç±»å‹åˆ—è¡¨
- `GET /api/documents/` - èµ„æ–™åˆ—è¡¨
- `POST /api/documents/upload/` - ä¸Šä¼ èµ„æ–™
- `POST /api/documents/batch-upload/` - æ‰¹é‡ä¸Šä¼ 
- `DELETE /api/documents/{id}/` - åˆ é™¤èµ„æ–™

## ğŸ’¾ æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒæ•°æ®è¡¨

#### 1. Userï¼ˆç”¨æˆ·è¡¨ï¼‰
åŸºäº Django AbstractUser æ‰©å±•ï¼š
- `username` - ç”¨æˆ·åï¼ˆå”¯ä¸€ï¼‰
- `email` - é‚®ç®±
- `role` - è§’è‰²ï¼ˆadmin/staff/auditorï¼‰
- `phone` - æ‰‹æœºå·
- `is_active` - æ˜¯å¦æ¿€æ´»
- `created_at` - åˆ›å»ºæ—¶é—´

#### 2. Customerï¼ˆå®¢æˆ·è¡¨ï¼‰
å®¢æˆ·åŸºæœ¬ä¿¡æ¯ï¼š
- `name` - å®¢æˆ·å§“å
- `id_card` - èº«ä»½è¯å·ï¼ˆå”¯ä¸€ï¼‰
- `phone` - æ‰‹æœºå·
- `address` - åœ°å€
- `status` - çŠ¶æ€ï¼ˆ5ç§çŠ¶æ€ï¼‰
  - `pending` - èµ„æ–™æ”¶é›†ä¸­
  - `complete` - èµ„æ–™å·²é½å…¨
  - `reviewing` - å®¡æ ¸ä¸­
  - `approved` - å·²é€šè¿‡
  - `rejected` - å·²æ‹’ç»
- `created_by` - åˆ›å»ºäººï¼ˆå¤–é”®ï¼‰
- `created_at` / `updated_at` - æ—¶é—´æˆ³

#### 3. CustomFieldï¼ˆè‡ªå®šä¹‰å­—æ®µå®šä¹‰è¡¨ï¼‰â­
åŠ¨æ€å­—æ®µé…ç½®ï¼š
- `name` - å­—æ®µåç§°
- `field_type` - å­—æ®µç±»å‹ï¼ˆtext/number/date/selectç­‰ï¼‰
- `is_required` - æ˜¯å¦å¿…å¡«
- `sort_order` - æ˜¾ç¤ºæ’åº
- `placeholder` - å ä½ç¬¦
- `help_text` - å¸®åŠ©æ–‡æœ¬
- `default_value` - é»˜è®¤å€¼
- `options` - ä¸‹æ‹‰é€‰é¡¹ï¼ˆJSONï¼‰
- `min_length` / `max_length` - é•¿åº¦é™åˆ¶
- `min_value` / `max_value` - æ•°å€¼é™åˆ¶
- `regex_pattern` - æ­£åˆ™éªŒè¯
- `is_active` - æ˜¯å¦å¯ç”¨

#### 4. CustomFieldValueï¼ˆè‡ªå®šä¹‰å­—æ®µå€¼è¡¨ï¼‰â­
å­˜å‚¨å®¢æˆ·çš„è‡ªå®šä¹‰å­—æ®µå€¼ï¼š
- `customer` - å…³è”å®¢æˆ·ï¼ˆå¤–é”®ï¼‰
- `custom_field` - å…³è”å­—æ®µå®šä¹‰ï¼ˆå¤–é”®ï¼‰
- `value` - å­—æ®µå€¼ï¼ˆTEXTï¼‰
- `created_at` / `updated_at` - æ—¶é—´æˆ³
- **å”¯ä¸€çº¦æŸ**ï¼š(customer, custom_field)

#### 5. DocumentTypeï¼ˆèµ„æ–™ç±»å‹è¡¨ï¼‰
èµ„æ–™åˆ†ç±»é…ç½®ï¼š
- `name` - ç±»å‹åç§°ï¼ˆå”¯ä¸€ï¼‰
- `is_required` - æ˜¯å¦å¿…éœ€
- `sort_order` - æ’åº
- `description` - è¯´æ˜
- `allowed_file_types` - å…è®¸çš„æ–‡ä»¶ç±»å‹ï¼ˆJSONï¼‰
- `max_file_count` - æœ€å¤§æ–‡ä»¶æ•°ï¼ˆ0=ä¸é™ï¼‰

#### 6. Documentï¼ˆèµ„æ–™æ–‡æ¡£è¡¨ï¼‰
ä¸Šä¼ çš„æ–‡ä»¶è®°å½•ï¼š
- `customer` - å…³è”å®¢æˆ·ï¼ˆå¤–é”®ï¼‰
- `document_type` - èµ„æ–™ç±»å‹ï¼ˆå¤–é”®ï¼‰
- `file` - æ–‡ä»¶è·¯å¾„
- `file_name` - åŸå§‹æ–‡ä»¶å
- `file_size` - æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼‰
- `file_type` - æ–‡ä»¶ç±»å‹ï¼ˆimage/video/pdfç­‰ï¼‰
- `status` - å®¡æ ¸çŠ¶æ€ï¼ˆpending/approved/rejectedï¼‰
- `notes` - å¤‡æ³¨
- `uploaded_by` - ä¸Šä¼ äººï¼ˆå¤–é”®ï¼‰
- `uploaded_at` / `updated_at` - æ—¶é—´æˆ³

### æ•°æ®åº“ç‰¹æ€§

- âœ… **å¤–éƒ¨æ•°æ®åº“**ï¼šä½¿ç”¨ç‹¬ç«‹çš„ PostgreSQL æœåŠ¡å™¨
- âœ… **å…³ç³»å®Œæ•´æ€§**ï¼šå®Œå–„çš„å¤–é”®çº¦æŸå’Œçº§è”åˆ é™¤
- âœ… **ç´¢å¼•ä¼˜åŒ–**ï¼šå…³é”®å­—æ®µå»ºç«‹ç´¢å¼•ï¼Œæå‡æŸ¥è¯¢æ€§èƒ½
- âœ… **æ—¶é—´è¿½è¸ª**ï¼šæ‰€æœ‰è¡¨éƒ½æœ‰åˆ›å»ºå’Œæ›´æ–°æ—¶é—´
- âœ… **è½¯åˆ é™¤æ”¯æŒ**ï¼šé‡è¦æ•°æ®æ”¯æŒ is_active æ ‡è®°
- âœ… **JSONå­—æ®µ**ï¼šçµæ´»å­˜å‚¨å¤æ‚æ•°æ®ç»“æ„

## ç”Ÿäº§éƒ¨ç½²

### Nginxé…ç½®ç¤ºä¾‹

```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    # å‰ç«¯é™æ€æ–‡ä»¶
    location / {
        root /path/to/frontend/dist;
        try_files $uri $uri/ /index.html;
    }
    
    # åç«¯API
    location /api {
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
    
    # åª’ä½“æ–‡ä»¶
    location /media {
        alias /path/to/backend/media;
    }
    
    # é™æ€æ–‡ä»¶
    location /static {
        alias /path/to/backend/staticfiles;
    }
}
```

### ä½¿ç”¨Gunicornè¿è¡Œåç«¯

```bash
gunicorn config.wsgi:application --bind 0.0.0.0:8000 --workers 4
```

## â“ å¸¸è§é—®é¢˜

### 1. æ•°æ®åº“è¿æ¥å¤±è´¥

**ç°è±¡**ï¼šå¯åŠ¨æŠ¥é”™ `OperationalError: FATAL: password authentication failed`

**è§£å†³æ–¹æ³•**ï¼š
- æ£€æŸ¥ `backend/.env` æ–‡ä»¶ä¸­çš„æ•°æ®åº“é…ç½®
- ç¡®è®¤å¤–éƒ¨PostgreSQLæœåŠ¡æ­£å¸¸è¿è¡Œ
- æµ‹è¯•æ•°æ®åº“è¿æ¥ï¼š
  ```bash
  cd backend
  python check_external_db.py
  ```

### 2. å‰ç«¯æ— æ³•è®¿é—®åç«¯API

**ç°è±¡**ï¼šå‰ç«¯è¯·æ±‚æŠ¥ CORS é”™è¯¯æˆ– 404

**è§£å†³æ–¹æ³•**ï¼š
- ç¡®è®¤åç«¯æœåŠ¡å·²å¯åŠ¨ï¼ˆhttp://127.0.0.1:8000ï¼‰
- æ£€æŸ¥ `backend/.env` ä¸­çš„ `CORS_ALLOWED_ORIGINS` é…ç½®
- æŸ¥çœ‹åç«¯æ—¥å¿—ï¼š`tail -f logs/backend.log`

### 3. æ–‡ä»¶ä¸Šä¼ å¤±è´¥

**ç°è±¡**ï¼šä¸Šä¼ æ–‡ä»¶æ—¶æŠ¥é”™

**è§£å†³æ–¹æ³•**ï¼š
- æ£€æŸ¥ `backend/media/` ç›®å½•æƒé™
- ç¡®è®¤æ–‡ä»¶æ ¼å¼åœ¨æ”¯æŒåˆ—è¡¨ä¸­
- æŸ¥çœ‹ä¸Šä¼ æ–‡ä»¶çš„å®é™…å¤§å°
- æ£€æŸ¥ç£ç›˜ç©ºé—´æ˜¯å¦å……è¶³

### 4. ç§»åŠ¨ç«¯æ— æ³•æ‹ç…§

**ç°è±¡**ï¼šç§»åŠ¨ç«¯ç›¸æœºæ— æ³•å¯åŠ¨

**è§£å†³æ–¹æ³•**ï¼š
- ä½¿ç”¨ HTTPS æˆ– localhost
- æµè§ˆå™¨éœ€è¦å®‰å…¨ä¸Šä¸‹æ–‡æ‰èƒ½è®¿é—®æ‘„åƒå¤´
- æ£€æŸ¥æµè§ˆå™¨æƒé™è®¾ç½®

### 5. å¯åŠ¨è„šæœ¬æ‰§è¡Œå¤±è´¥

**ç°è±¡**ï¼šWindows è„šæœ¬æ— æ³•æ‰§è¡Œ

**è§£å†³æ–¹æ³•**ï¼š
- ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
- Windowsï¼šä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ
- Linux/Macï¼š`chmod +x start-no-hmr.sh`
- æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼š`logs/backend.log` å’Œ `logs/frontend.log`

### 6. è‡ªå®šä¹‰å­—æ®µä¸æ˜¾ç¤º

**ç°è±¡**ï¼šæ·»åŠ çš„è‡ªå®šä¹‰å­—æ®µåœ¨å‰ç«¯çœ‹ä¸åˆ°

**è§£å†³æ–¹æ³•**ï¼š
- ç¡®è®¤å­—æ®µçš„ `is_active` ä¸º True
- æ£€æŸ¥å­—æ®µçš„ `sort_order` æ’åº
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
- æŸ¥çœ‹åç«¯ API å“åº”ï¼š`/api/customers/custom-fields/`

## ğŸ¯ ç‰¹è‰²äº®ç‚¹

### 1. åŠ¨æ€è‡ªå®šä¹‰å­—æ®µç³»ç»Ÿ â­
- æ— éœ€ä¿®æ”¹ä»£ç å³å¯æ·»åŠ æ–°å­—æ®µ
- æ”¯æŒ8ç§å­—æ®µç±»å‹ï¼Œæ»¡è¶³å„ç§ä¸šåŠ¡éœ€æ±‚
- çµæ´»çš„éªŒè¯è§„åˆ™å’Œæ˜¾ç¤ºæ§åˆ¶
- å‰åç«¯è‡ªåŠ¨é€‚é…ï¼Œå¼€å‘æ•ˆç‡é«˜

### 2. å¤–éƒ¨æ•°æ®åº“æ¶æ„
- æ•°æ®ä¸åº”ç”¨åˆ†ç¦»ï¼Œæ›´å®‰å…¨å¯é 
- æ”¯æŒå¤šä¸ªåº”ç”¨å®ä¾‹å…±äº«æ•°æ®
- ä¾¿äºæ•°æ®å¤‡ä»½å’Œè¿ç§»
- é€‚åˆä¼ä¸šçº§éƒ¨ç½²

### 3. å¤šç«¯æ— ç¼åä½œ
- PCç«¯å’Œç§»åŠ¨ç«¯å®æ—¶åŒæ­¥
- ç»Ÿä¸€çš„åç«¯APIï¼Œæ•°æ®ä¸€è‡´æ€§æœ‰ä¿éšœ
- è‡ªåŠ¨è®¾å¤‡æ£€æµ‹ï¼Œç”¨æˆ·ä½“éªŒæœ€ä¼˜

### 4. æ™ºèƒ½æ–‡ä»¶ç®¡ç†
- è‡ªåŠ¨å‹ç¼©ä¼˜åŒ–ï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´
- æ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼é¢„è§ˆ
- æ™ºèƒ½æ–‡ä»¶åˆ†ç±»å’Œå‘½å
- å®Œå–„çš„å®¡æ ¸æµç¨‹

### 5. ç”Ÿäº§çº§ä»£ç è´¨é‡
- è§„èŒƒçš„ä»£ç ç»“æ„
- å®Œå–„çš„é”™è¯¯å¤„ç†
- è¯¦å°½çš„æ–‡æ¡£æ³¨é‡Š
- æ˜“äºç»´æŠ¤å’Œæ‰©å±•

## ğŸš€ åç»­è§„åˆ’

### çŸ­æœŸä¼˜åŒ–ï¼ˆ1-2å‘¨ï¼‰
- [ ] æ·»åŠ å•å…ƒæµ‹è¯•è¦†ç›–
- [ ] é›†æˆ API æ–‡æ¡£ï¼ˆSwagger/OpenAPIï¼‰
- [ ] å®ç°æ•°æ®å¯¼å‡ºåŠŸèƒ½ï¼ˆExcel/PDFï¼‰
- [ ] æ·»åŠ æ“ä½œæ—¥å¿—è®°å½•
- [ ] ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½

### ä¸­æœŸè§„åˆ’ï¼ˆ1ä¸ªæœˆï¼‰
- [ ] æ¥å…¥å¯¹è±¡å­˜å‚¨ï¼ˆé˜¿é‡Œäº‘OSS/ä¸ƒç‰›äº‘ï¼‰
- [ ] OCR è‡ªåŠ¨è¯†åˆ«è¯ä»¶ä¿¡æ¯
- [ ] é‚®ä»¶/çŸ­ä¿¡é€šçŸ¥åŠŸèƒ½
- [ ] æ•°æ®ç»Ÿè®¡æŠ¥è¡¨ä¸å›¾è¡¨
- [ ] ç§»åŠ¨ç«¯ PWA æ”¯æŒ

### é•¿æœŸæ„¿æ™¯ï¼ˆ3ä¸ªæœˆï¼‰
- [ ] å·¥ä½œæµå¼•æ“é›†æˆï¼ˆå®¡æ‰¹æµç¨‹å¯é…ç½®ï¼‰
- [ ] å¾®ä¿¡å°ç¨‹åºç‰ˆæœ¬
- [ ] ç§»åŠ¨ç«¯åŸç”Ÿ Appï¼ˆReact Nativeï¼‰
- [ ] Docker å®¹å™¨åŒ–éƒ¨ç½²
- [ ] Kubernetes ç¼–æ’æ”¯æŒ
- [ ] å¤šç§Ÿæˆ· SaaS åŒ–æ”¹é€ 

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

- **é¡µé¢åŠ è½½**: < 2ç§’
- **APIå“åº”æ—¶é—´**: < 200ms
- **æ–‡ä»¶ä¸Šä¼ é€Ÿåº¦**: 5MBæ–‡ä»¶ < 5ç§’
- **å¹¶å‘ç”¨æˆ·**: æ”¯æŒ100+ï¼ˆå•æœåŠ¡å™¨ï¼‰
- **æ•°æ®åº“æŸ¥è¯¢**: < 50ms

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- JWT Token è®¤è¯ï¼Œé˜²æ­¢æœªæˆæƒè®¿é—®
- å¯†ç åŠ å¯†å­˜å‚¨ï¼ˆDjangoå†…ç½®ï¼‰
- CORS ç™½åå•æ§åˆ¶
- æ–‡ä»¶ç±»å‹å’Œå¤§å°éªŒè¯
- SQLæ³¨å…¥é˜²æŠ¤ï¼ˆORMï¼‰
- XSSæ”»å‡»é˜²æŠ¤
- CSRF ä»¤ç‰Œä¿æŠ¤

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- ğŸ“– æŸ¥çœ‹ [å®Œæ•´æ–‡æ¡£](docs/README.md)
- ğŸš€ é˜…è¯» [å¿«é€Ÿå¼€å§‹æŒ‡å—](QUICK_START.md)
- ğŸ“ å‚è€ƒ [é¡¹ç›®å¯¼èˆª](é¡¹ç›®å¯¼èˆª.md)
- ğŸ” æŸ¥çœ‹ [æ›´æ–°æ—¥å¿—](CHANGELOG.md)

## ğŸ‘¥ é€‚ç”¨åœºæ™¯

æœ¬ç³»ç»Ÿç‰¹åˆ«é€‚åˆï¼š
- ğŸ’° ä¿¡è´·å…¬å¸çš„å®¢æˆ·èµ„æ–™æ”¶é›†
- ğŸ¦ é“¶è¡Œçš„è´·æ¬¾èµ„æ–™ç®¡ç†
- ğŸ¢ ä¿é™©å…¬å¸çš„æŠ•ä¿èµ„æ–™æ”¶é›†
- ğŸ“‹ ä»»ä½•éœ€è¦æ”¶é›†å’Œç®¡ç†å¤§é‡æ–‡æ¡£çš„ä¸šåŠ¡åœºæ™¯

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œå†…éƒ¨ä½¿ç”¨ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®ï¼š
- [Django](https://www.djangoproject.com/)
- [Vue.js](https://vuejs.org/)
- [Element Plus](https://element-plus.org/)
- [Vant](https://vant-ui.github.io/)

---

**é¡¹ç›®çŠ¶æ€**: âœ… ç”Ÿäº§å¯ç”¨  
**ç‰ˆæœ¬**: v1.0.0  
**æœ€åæ›´æ–°**: 2025-10

